{% extends "shared/layout.html" %}

{% block title %}Protection Paladin Overview{% endblock %}
{% block content %}
<div class="container mt-3">
  <div class="row border-bottom pb-3">
    <div class="col text-start">
      <h6>{{boss_difficulty}}</h6>
      <h2 class="text-warning">{{boss_name}}</h2>
    </div>
    <div class="col text-end">
      <h6>{{player_spec}} {{player_type}} <img src="/static/img/ability_paladin_shieldofthetemplar.jpg" id="thumbnail">
      </h6>
      <h2 class="text-warning">{{player_name}}</h2>
    </div>
  </div>
</div>

<div class="container mt-3 border-bottom pb-3">
  <ul class="nav nav-pills nav-fill">
    <li class="nav-item">
      <a class="nav-link active text-bg-warning" aria-current="page" href="/protection-overview">Overview</a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-light" href="/protection-statistics">Statistics</a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-light" href="/protection-timeline">Timeline</a>
    </li>
    <li class="nav-item">
      <a class="nav-link link-light" href="/protection-character">Character</a>
    </li>
  </ul>
</div>

<div class="container mt-3">
  <h1 class="text-warning">CHECKLIST</h1>
</div>

<div class="container mt-3">
  <div class="accordion" id="accordionExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        {% if active_time_percent >= 50 %}
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
          aria-expanded="false" aria-controls="collapseOne">
          {% elif active_time_percent < 50 %} <button class="accordion-button" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
            {% endif %}
            {% if active_time_percent >= 50 %}
            <i id="icon" class="fa-solid fa-circle-check"></i>
            {% elif active_time_percent < 50 %} <i id="icon" class="fa-regular fa-circle"></i>
              {% endif %}
              <h4 class="ms-2">Always be casting</h4>
              {% if active_time_percent >= 50 %}
              <div class="progress" id="accordion-header-progress-bar" role="progressbar" aria-label="Success example"
                aria-valuenow="{{active_time_percent}}" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-success" style="width: {{active_time_percent}}%"></div>
              </div>
              {% elif active_time_percent < 50 %} <div class="progress" id="accordion-header-progress-bar"
                role="progressbar" aria-label="Danger example" aria-valuenow="{{active_time_percent}}" aria-valuemin="0"
                aria-valuemax="100">
                <div class="progress-bar bg-danger" style="width: {{active_time_percent}}%"></div>
    </div>
    {% endif %}
    </button>
    </h2>
    {% if active_time_percent >= 50 %}
    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne">
      {% elif active_time_percent < 50 %} <div id="collapseOne" class="accordion-collapse collapse show"
        aria-labelledby="headingOne">
        {% endif %}
        <div class="accordion-body">
          <div class="row">
            <div class="col-3">
              <p>Active time casting</p>
            </div>
            <div class="col-1">
              <p>{{active_time_percent}}%</p>
            </div>
            <div class="col">
              {% if active_time_percent >= 50 %}
              <div class="progress mt-1" id="progress-bar" role="progressbar" aria-label="Success example"
                aria-valuenow="{{active_time_percent}}" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-success" style="width: {{active_time_percent}}%"></div>
              </div>
              {% elif active_time_percent < 50 %} <div class="progress mt-1" id="progress-bar" role="progressbar"
                aria-label="Danger example" aria-valuenow="{{active_time_percent}}" aria-valuemin="0"
                aria-valuemax="100">
                <div class="progress-bar bg-danger" style="width: {{active_time_percent}}%"></div>
            </div>
            {% endif %}
          </div>
        </div>
    </div>
  </div>
</div>
<div class="accordion-item">
  <h2 class="accordion-header" id="headingTwo">
    {% if damage_abilities_efficiency >= 50 %}
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
      aria-expanded="false" aria-controls="collapseTwo">
      {% elif damage_abilities_efficiency < 50 %} <button class="accordion-button" type="button"
        data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
        {% endif %}
        {% if damage_abilities_efficiency >= 50 %}
        <i id="icon" class="fa-solid fa-circle-check"></i>
        {% elif damage_abilities_efficiency < 50 %} <i id="icon" class="fa-regular fa-circle"></i>
          {% endif %}
          <h4 class="ms-2">Use your damaging abilities effectively</h4>
          {% if damage_abilities_efficiency >= 50 %}
          <div class="progress" id="accordion-header-progress-bar" role="progressbar" aria-label="Success example"
            aria-valuenow="{{damage_abilities_efficiency}}" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success" style="width: {{damage_abilities_efficiency}}%"></div>
          </div>
          {% elif damage_abilities_efficiency < 50 %} <div class="progress" id="accordion-header-progress-bar"
            role="progressbar" aria-label="Danger example" aria-valuenow="{{damage_abilities_efficiency}}"
            aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-danger" style="width: {{damage_abilities_efficiency}}%"></div>
</div>
{% endif %}
</button>
</h2>
{% if damage_abilities_efficiency >= 50 %}
<div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo">
  {% elif damage_abilities_efficiency < 50 %} <div id="collapseTwo" class="accordion-collapse collapse show"
    aria-labelledby="headingTwo">
    {% endif %}
    <div class="accordion-body">
      <div class="row">
        <div class="col-3">
          <p><img src="/static/img/spell_holy_righteousfury.jpg" id="thumbnail"> Judgment</p>
        </div>
        <div class="col-1">
          <p>{{judgment_efficiency}}%</p>
        </div>
        <div class="col">
          {% if judgment_efficiency >= 50 %}
          <div class="progress mt-1" id="progress-bar" role="progressbar" aria-label="Success example"
            aria-valuenow="{{judgment_efficiency}}" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success" style="width: {{judgment_efficiency}}%"></div>
          </div>
          {% elif judgment_efficiency < 50 %} <div class="progress mt-1" id="progress-bar" role="progressbar"
            aria-label="Danger example" aria-valuenow="{{judgment_efficiency}}" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-danger" style="width: {{judgment_efficiency}}%"></div>
        </div>
        {% endif %}
      </div>
    </div>
    <div class="row">
      <div class="col-3">
        <p><img src="/static/img/spell_holy_avengersshield.jpg" id="thumbnail"> Avengers Shield</p>
      </div>
      <div class="col-1">
        <p>{{avengers_shield_efficiency}}%</p>
      </div>
      <div class="col">
        {% if avengers_shield_efficiency >= 50 %}
        <div class="progress mt-1" id="progress-bar" role="progressbar" aria-label="Success example"
          aria-valuenow="{{avengers_shield_efficiency}}" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-bar bg-success" style="width: {{avengers_shield_efficiency}}%"></div>
        </div>
        {% elif avengers_shield_efficiency < 50 %} <div class="progress mt-1" id="progress-bar" role="progressbar"
          aria-label="Danger example" aria-valuenow="{{avengers_shield_efficiency}}" aria-valuemin="0"
          aria-valuemax="100">
          <div class="progress-bar bg-danger" style="width: {{avengers_shield_efficiency}}%"></div>
      </div>
      {% endif %}
    </div>
</div>
<div class="row">
  <div class="col-3">
    <p><img src="/static/img/paladin_retribution.jpg" id="thumbnail"> Blessed Hammer</p>
  </div>
  <div class="col-1">
    <p>{{blessed_hammer_efficiency}}%</p>
  </div>
  <div class="col">
    {% if blessed_hammer_efficiency >= 50 %}
    <div class="progress mt-1" id="progress-bar" role="progressbar" aria-label="Success example"
      aria-valuenow="{{blessed_hammer_efficiency}}" aria-valuemin="0" aria-valuemax="100">
      <div class="progress-bar bg-success" style="width: {{blessed_hammer_efficiency}}%"></div>
    </div>
    {% elif blessed_hammer_efficiency < 50 %} <div class="progress mt-1" id="progress-bar" role="progressbar"
      aria-label="Danger example" aria-valuenow="{{blessed_hammer_efficiency}}" aria-valuemin="0" aria-valuemax="100">
      <div class="progress-bar bg-danger" style="width: {{blessed_hammer_efficiency}}%"></div>
  </div>
  {% endif %}
</div>
</div>
</div>
</div>
</div>
<div class="accordion-item">
  <h2 class="accordion-header" id="headingThree">
    {% if prepared_percent >= 50 %}
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree"
      aria-expanded="false" aria-controls="collapseThree">
      {% elif prepared_percent < 50 %} <button class="accordion-button" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
        {% endif %}
        {% if prepared_percent >= 50 %}
        <i id="icon" class="fa-solid fa-circle-check"></i>
        {% elif prepared_percent < 50 %} <i id="icon" class="fa-regular fa-circle"></i>
          {% endif %}
          <h4 class="ms-2">Be well prepared</h4>
          {% if prepared_percent >= 50 %}
          <div class="progress" id="accordion-header-progress-bar" role="progressbar" aria-label="Success example"
            aria-valuenow="{{prepared_percent}}" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-success" style="width: {{prepared_percent}}%"></div>
          </div>
          {% elif prepared_percent < 50 %} <div class="progress" id="accordion-header-progress-bar" role="progressbar"
            aria-label="Danger example" aria-valuenow="{{prepared_percent}}" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar bg-danger" style="width: {{prepared_percent}}%"></div>
</div>
{% endif %}
</button>
</h2>
{% if prepared_percent >= 50 %}
<div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree">
  {% elif prepared_percent < 50 %} <div id="collapseThree" class="accordion-collapse collapse show"
    aria-labelledby="headingThree">
    {% endif %}
    <div class="accordion-body">
      <div class="row">
        <div class="col">
          <p>All items enchanted</p>
          <p>All weapons enhanced (oils/stones)</p>
          <p>Combat Potions used</p>
          <p>Healthstones used</p>
        </div>
        <div class="col">
          <p>{{enchant_tally}}/8</p>
          <p>{{enhanced_tally}}/1</p>
          <p>{{player_potion_use}}</p>
          <p>{{player_healthstone_use}}</p>
        </div>
        <div class="col">
          <p>Flask used</p>
          <p>Food used</p>
          <p>Augment rune used</p>
        </div>
        <div class="col">
          {% if flask_used == True %}
          <p>Yes</p>
          {% elif flask_used == False %}
          <p>No</p>
          {% endif %}
          {% if food_buff == True %}
          <p>Yes</p>
          {% elif food_buff == False %}
          <p>No</p>
          {% endif %}
          {% if weapon_enhanced == True %}
          <p>Yes</p>
          {% elif weapon_enhanced == False %}
          <p>No</p>
          {% endif %}
        </div>
      </div>
    </div>
</div>
</div>
</div>
</div>

<div class="container mt-3">
  <h1 class="text-warning">Suggestions</h1>
</div>

<div class="container mt-3">
  {% if ardent_defender_efficiency < 75 %} <h6><img src="/static/img/spell_holy_ardentdefender.jpg" id="thumbnail"> Try
    to cast Ardent Defender more often</h6>
    <p>{{ardent_defender_casts}} out of {{ardent_defender_potential_casts}} possible casts. You kept it on cooldown
      {{ardent_defender_efficiency}}% of the time.</p>
    {% endif %}
    {% if guardian_of_ancient_kings_efficiency < 75 %} <h6><img src="/static/img/spell_holy_heroism.jpg" id="thumbnail">
      Try to cast Guardian of Ancient Kings more often</h6>
      <p>{{guardian_of_ancient_kings_casts}} out of {{guardian_of_ancient_kings_potential_casts}} possible casts. You kept it on
        cooldown {{guardian_of_ancient_kings_efficiency}}% of the time.</p>
      {% endif %}
      {% if lay_on_hands_efficiency < 75 %} <h6><img src="/static/img/spell_holy_layonhands.jpg" id="thumbnail"> Try to
        cast Lay on Hands more often.</h6>
        <p>{{lay_on_hands_casts}} out of {{lay_on_hands_potential_casts}} possible casts. You kept it on cooldown
          {{lay_on_hands_efficiency}}% of the time.</p>
        {% endif %}
        {% if divine_shield_efficiency < 75 %} <h6><img src="/static/img/spell_holy_divineshield.jpg" id="thumbnail">
          Try to cast Divine Shield more often.</h6>
          <p>{{divine_shield_casts}} out of {{divine_shield_potential_casts}} possible casts. You kept it on cooldown
            {{divine_shield_efficiency}}% of the time.</p>
          {% endif %}
          {% if weapon_enhanced == False %}
          <h6>Your weapon is missing a weapon enhancement (weapon oils/sharpening stone/weightstone). Apply an
            enhancement to very easily increase your throughput
            slightly.</h6>
          {% endif %}
          {% if weapon_enchant == False %}
          <h6>Your weapon is missing an enchant. Apply a strong enchant to very easily increase your throughput
            slightly.</h6>
          {% endif %}
          {% if chest_enchant == False %}
          <h6>Your chest is missing an enchant. Apply a strong enchant to very easily increase your throughput slightly.
          </h6>
          {% endif %}
          {% if legguards_enchant == False %}
          <h6>Your legguards are missing an enchant. Apply a strong enchant to very easily increase your throughput
            slightly.</h6>
          {% endif %}
          {% if boots_enchant == False %}
          <h6>Your boots are missing an enchant. Apply a strong enchant to very easily increase your throughput
            slightly.</h6>
          {% endif %}
          {% if wristguards_enchant == False %}
          <h6>Your wristguards are missing an enchant. Apply a strong enchant to very easily increase your throughput
            slightly.</h6>
          {% endif %}
          {% if ring1_enchant == False %}
          <h6>Your ring is missing an enchant. Apply a strong enchant to very easily increase your throughput slightly.
          </h6>
          {% endif %}
          {% if ring2_enchant == False %}
          <h6>Your ring is missing an enchant. Apply a strong enchant to very easily increase your throughput slightly.
          </h6>
          {% endif %}
          {% if cloak_enchant == False %}
          <h6>Your cloak is missing an enchant. Apply a strong enchant to very easily increase your throughput slightly.
          </h6>
          {% endif %}
          {% if player_potion_use == '0' %}
          <h6>You used 0 combat potions during this encounter, but you could have used 1.</h6>
          {% endif %}
          {% if food_buff == False %}
          <h6>You did not have any food active when starting the fight. Having the right food buff during combat is an
            easy way to improve performance.</h6>
          {% endif %}
</div>
{% endblock %}